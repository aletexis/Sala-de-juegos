<div class="d-flex justify-content-center align-items-center">
	<div class="card animate__animated animate__slideInUp animate__faster app-bg p-5 text-light w-100"
		style="max-width: 700px;">
		<h1 class="card-title text-center text-uppercase mb-4">Encuesta</h1>

		<form [formGroup]="surveyForm" (ngSubmit)="sendSurvey()">

			<div class="form-group mb-3">
				<label class="card-label">Nombre y apellido <span class="card-error">*</span></label>
				<input type="text" class="card-input app-bg w-100" formControlName="fullName">
				<div class="card-error">
					<span
						*ngIf="surveyForm.get('fullName')?.invalid && (surveyForm.get('fullName')?.dirty || surveyForm.get('fullName')?.touched)">
						{{ getErrorMessage('fullName') }}
					</span>
				</div>
			</div>

			<div class="form-group mb-3">
				<label class="card-label">Edad <span class="card-error">*</span></label>
				<input type="number" class="card-input app-bg w-100" formControlName="age" min="18" max="99">
				<div class="card-error">
					<span
						*ngIf="surveyForm.get('age')?.invalid && (surveyForm.get('age')?.dirty || surveyForm.get('age')?.touched)">
						{{ getErrorMessage('age') }}
					</span>
				</div>
			</div>

			<div class="form-group mb-3">
				<label class="card-label">Teléfono <span class="card-error">*</span></label>
				<input type="text" maxlength="10" class="card-input app-bg w-100" formControlName="phone">
				<div class="card-error">
					<span
						*ngIf="surveyForm.get('phone')?.invalid && (surveyForm.get('phone')?.dirty || surveyForm.get('phone')?.touched)">
						{{ getErrorMessage('phone') }}
					</span>
				</div>
			</div>

			<div class="form-group mb-3">
				<label class="card-label">¿Cuáles son tus juegos favoritos? <span class="card-error">*</span></label>
				<div class="d-flex flex-wrap gap-3">
					<label class="card-checkbox" *ngFor="let game of availableGames">
						<input type="checkbox" [value]="game" (change)="onCheckboxChange($event)"> {{ game }}
					</label>
				</div>
				<div class="card-error">
					<span
						*ngIf="surveyForm.get('favGames')?.invalid && (surveyForm.get('favGames')?.dirty || surveyForm.get('favGames')?.touched)">
						{{ getErrorMessage('favGames') }}
					</span>
				</div>
			</div>

			<div class="form-group mb-3">
				<label class="card-label">¿Qué tan satisfecho quedaste con la experiencia? <span
						class="card-error">*</span></label>
				<div class="d-flex align-items-center gap-2">
					<span>1</span>
					<input type="range" min="1" max="10" step="1" class="card-input-range flex-fill"
						formControlName="satisfaction">
					<span>10</span>
				</div>
				<div class="card-error">
					<span
						*ngIf="surveyForm.get('satisfaction')?.invalid && (surveyForm.get('satisfaction')?.dirty || surveyForm.get('satisfaction')?.touched)">
						{{ getErrorMessage('satisfaction') }}
					</span>
				</div>
			</div>

			<div class="form-group mb-3">
				<label class="card-label">¿Volverías a jugar con nosotros? <span class="card-error">*</span></label>
				<div class="d-flex gap-3 mt-1">
					<label><input type="radio" value="yes" formControlName="revisit"> Sí</label>
					<label><input type="radio" value="no" formControlName="revisit"> No</label>
				</div>
				<div class="card-error">
					<span
						*ngIf="surveyForm.get('revisit')?.invalid && (surveyForm.get('revisit')?.dirty || surveyForm.get('revisit')?.touched)">
						{{ getErrorMessage('revisit') }}
					</span>
				</div>
			</div>

			<div class="form-group mb-3">
				<label class="card-label">Contanos tu experiencia o sugerencias <span class="card-error">*</span></label>
				<textarea class="card-input app-bg w-100" rows="2" formControlName="comments"></textarea>
			</div>

			<button type="submit" class="app-btn app-btn--green w-100 mt-4" [disabled]="surveyForm.invalid">Enviar</button>
		</form>
	</div>
</div>